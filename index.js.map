{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48208038-3c3ecca5e2ade6beba42f0ed3';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function searchPhotos(q) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","function markup(photos) {\n  return photos.hits\n    .map(\n      element =>\n        `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${element.largeImageURL}\" > \n              <img class=\"gallery-image\" src=\"${element.webformatURL}\" alt=\"${element.tags}\"/> \n            </a>\n            <ul class=\"statistics\">\n                <li class=\"photo-stat\">\n                <p><b>Likes</b></p>\n                <p>${element.likes}</p>\n                </li>\n                <li class=\"photo-stat\">\n                <p><b>Views</b></p> \n                <p>${element.views}</p>\n                </li>\n                <li class=\"photo-stat\">\n                <p><b>Comments</b></p> \n                <p>${element.comments}</p>\n                </li>\n                <li class=\"photo-stat\">\n                <p><b>Downloads</b></p> \n                <p>${element.downloads}</p>\n                </li>\n            </ul>\n            </li>`\n    )\n    .join('');\n}\n\nexport { markup };\n","import { searchPhotos } from './js/pixabay-api.js';\nimport { markup } from './js/render-functions.js';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.form');\nconst loaderEl = document.querySelector('.loader');\nconst searchResults = document.querySelector('.search-result');\n\nsearchForm.addEventListener('submit', initiateSearch);\n\nfunction initiateSearch(event) {\n  event.preventDefault();\n  const q = event.currentTarget.q.value.trim();\n  loaderEl.classList.remove('loader-off');\n  searchPhotos(q)\n    .then(photos => {\n      searchResults.innerHTML = '';\n      if (photos.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n        });\n        loaderEl.classList.add('loader-off');\n        return;\n      }\n      const photosMarkup = markup(photos);\n\n      searchResults.insertAdjacentHTML('beforeend', photosMarkup);\n      const lightbox = new SimpleLightbox('.search-result a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n\n      lightbox.refresh();\n      loaderEl.classList.add('loader-off');\n    })\n    .catch(e => {\n      console.error(e);\n      iziToast.show({\n        message: `Error occured: ${e}`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => searchForm.reset());\n}\n"],"names":["API_KEY","BASE_URL","searchPhotos","q","params","res","markup","photos","element","searchForm","loaderEl","searchResults","initiateSearch","event","iziToast","photosMarkup","SimpleLightbox","e"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAaC,EAAG,CAC9B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAAG,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAM,EAAE,EAAE,KAAKC,GAAO,CACjD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCjBA,SAASC,EAAOC,EAAQ,CACtB,OAAOA,EAAO,KACX,IACCC,GACE;AAAA;AAAA,4CAEoCA,EAAQ,aAAa;AAAA,gDACjBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKrEA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,qBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,kBAIjC,EACA,KAAK,EAAE,CACZ,CCrBA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAgB,SAAS,cAAc,gBAAgB,EAE7DF,EAAW,iBAAiB,SAAUG,CAAc,EAEpD,SAASA,EAAeC,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMV,EAAIU,EAAM,cAAc,EAAE,MAAM,OACtCH,EAAS,UAAU,OAAO,YAAY,EACtCR,EAAaC,CAAC,EACX,KAAKI,GAAU,CAEd,GADAI,EAAc,UAAY,GACtBJ,EAAO,KAAK,SAAW,EAAG,CAC5BO,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UACpB,CAAS,EACDJ,EAAS,UAAU,IAAI,YAAY,EACnC,MACD,CACD,MAAMK,EAAeT,EAAOC,CAAM,EAElCI,EAAc,mBAAmB,YAAaI,CAAY,EACzC,IAAIC,EAAe,mBAAoB,CACtD,aAAc,MACd,aAAc,GACtB,CAAO,EAEQ,QAAO,EAChBN,EAAS,UAAU,IAAI,YAAY,CACzC,CAAK,EACA,MAAMO,GAAK,CACV,QAAQ,MAAMA,CAAC,EACfH,EAAS,KAAK,CACZ,QAAS,kBAAkBG,CAAC,GAC5B,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMR,EAAW,MAAK,CAAE,CACrC"}